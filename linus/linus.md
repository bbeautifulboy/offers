#### （一）线上服务器CPU100%，怎么排查，定位，解决？

1.定位耗费cpu的进程：top -c，显示进程列表，输入P，按照cpu使用率排序

2.定位耗费cpu的线程：top -Hp xxxx，上面找到cpu使用率高的线程id，通过这个命令找到进程里的哪个线程耗费cpu高

3.定位哪段代码导致cpu过高：jstack xxxx| grep ‘0x41e8’ -C5 --color，打印进程的堆栈信息，通过grep那个线程的16进制的pid，找到那个线程相关的东西，这个时候可以在打印出的代码里，看到是哪个类的哪个方法导致的这个cpu 100%的问题。

#### （二）线上进程kill不掉怎么办？

1.找到僵尸进程号：ps aux，看看STAT那一栏，如果是Z，那么就是zombie状态的僵尸进程

2.找僵尸进程的父进程：ps -ef | grep 僵尸进程id，可以找到父进程id

3.然后先kill掉父进程即可

